!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var o,r,s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,s){function i(t){try{a(o.next(t))}catch(t){s(t)}}function c(t){try{a(o.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}a((o=o.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const c=i(n(1));console.log("test"),$("#exampleModal").on("shown.bs.modal",(function(){console.log("open window"),$("#myInput").trigger("focus")}));const a=new c.default;a.defaultTaskList;null===(o=document.getElementById("btn-create-task"))||void 0===o||o.addEventListener("click",t=>s(void 0,void 0,void 0,(function*(){console.log("on submit");const e=document.forms[0];fetch("/create_task",{method:"post",body:new FormData(e)}),console.log("We send post asynchronously (AJAX)"),t.preventDefault()}))),null===(r=document.getElementById("btn-truncate-tasks"))||void 0===r||r.addEventListener("click",t=>s(void 0,void 0,void 0,(function*(){fetch("/truncate_tasks",{method:"post",body:""}),console.log("We send post asynchronously (AJAX)"),t.preventDefault()})));console.log("run"),s(void 0,void 0,void 0,(function*(){var t;console.log("UrlTaskList","/get_all_tasks");const e=yield a.getTaskList("/get_all_tasks");for(let n of e){console.log(n.name);let e=`\n        <div class="card-group">\n            <div class="card text-white bg-secondary mb-3" style="max-width: 18rem;">\n                <div class="card-header">\n                    <div class="date">${n.created_on}</div>\n                        <button type="button" data-id=${n.id} id="btn-delete-task_${n.id}" class="btn btn-danger btn-delete-task">X</button>\n                    </div>\n                <div class="card-body">\n                    <h5 class="card-title">${n.name}</h5>\n                    <p class="card-text">${n.comment?n.comment:""}</p>\n                </div>\n            </div>\n        </div>\n        `,o=document.getElementsByClassName("task-list")[0];console.log(o),null==o||o.insertAdjacentHTML("beforeend",e),null===(t=document.getElementById("btn-delete-task_"+n.id))||void 0===t||t.addEventListener("click",t=>s(void 0,void 0,void 0,(function*(){alert(0);const e=t.target.dataset.id;console.log("e",t,t.target,e),fetch("/remove_task/"+e,{method:"delete",body:""}),t.preventDefault()})))}}))},function(t,e,n){"use strict";var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,s){function i(t){try{a(o.next(t))}catch(t){s(t)}}function c(t){try{a(o.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}a((o=o.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.defaultTaskList=["Напилить дров","Побелка в зале","Прибраться где были уточки","Покосить","Заштопать карманы"]}getTaskList(t){return o(this,void 0,void 0,(function*(){let e=yield fetch(t);try{if(e.ok){let t=yield e.json();return console.log(t),Promise.resolve(t)}console.warn("Ошибка HTTP: "+e.status)}catch(t){console.error("Обнаружена ошибка : "+t)}}))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2luZGV4LnRzIiwid2VicGFjazovLy8uL3N0YXRpYy90YXNrLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY29uc29sZSIsImxvZyIsIiQiLCJvbiIsInRyaWdnZXIiLCJ0YXNrTGlzdCIsImRlZmF1bHRUYXNrTGlzdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImZvcm0iLCJmb3JtcyIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsIkZvcm1EYXRhIiwicHJldmVudERlZmF1bHQiLCJsaXN0IiwiZ2V0VGFza0xpc3QiLCJ0YXNrIiwiaXRlbSIsImNyZWF0ZWRfb24iLCJpZCIsImNvbW1lbnQiLCJsaXN0RWxlbWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJhbGVydCIsInRhcmdldCIsImRhdGFzZXQiLCJ0aGlzIiwidXJsIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsIndhcm4iLCJzdGF0dXMiLCJlcnIiLCJlcnJvciJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIs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SXFCRCxFQUFLRSwyRUFDV0YsRUFBS0csMEJBQTBCSCxFQUFLRywwS0FHL0NILEVBQUs3Qyx1REFDUDZDLEVBQUtJLFFBQVVKLEVBQUtJLFFBQVUsK0VBSzdEQyxFQUFjbEIsU0FBU21CLHVCQUF1QixhQUFhLEdBQy9EMUIsUUFBUUMsSUFBSXdCLEdBQ1pBLFdBQWFFLG1CQUFtQixZQUFZTixHQUVTLFFBQXJELEVBQUFkLFNBQVNDLGVBQWUsbUJBQW1CWSxFQUFLRyxXQUFLLFNBQUVkLGlCQUFpQixRQUFlQyxHQUFTLG9DQUM1RmtCLE1BQU0sR0FDTixNQUFNTCxFQUFLYixFQUFFbUIsT0FBT0MsUUFBUVAsR0FDNUJ2QixRQUFRQyxJQUFJLElBQUlTLEVBQUVBLEVBQUVtQixPQUFPTixHQUMzQlYsTUFBTSxnQkFBb0JVLEVBQU0sQ0FBQ1QsT0FBTyxTQUFTQyxLQUFLLEtBQ3RETCxFQUFFTywwQiw4WUNyQ2QsVUE1QkEsTUFFSSxjQUNJYyxLQUFLekIsZ0JBQWtCLENBQ25CLGdCQUNBLGlCQUNBLDZCQUNBLFdBQ0EscUJBR0gsWUFBWTBCLEcseUNBQ2IsSUFBSUMsUUFBaUJwQixNQUFNbUIsR0FDM0IsSUFDSSxHQUFJQyxFQUFTQyxHQUFJLENBQ2IsSUFBSUMsUUFBYUYsRUFBU0UsT0FFMUIsT0FEQW5DLFFBQVFDLElBQUlrQyxHQUNMQyxRQUFRQyxRQUFRRixHQUV2Qm5DLFFBQVFzQyxLQUFLLGdCQUFrQkwsRUFBU00sUUFHaEQsTUFBTUMsR0FDRnhDLFFBQVF5QyxNQUFNLHVCQUF1QkQiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IFRhc2sgZnJvbSAnLi90YXNrJztcbmNvbnNvbGUubG9nKCd0ZXN0Jyk7XG4kKCcjZXhhbXBsZU1vZGFsJykub24oJ3Nob3duLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKCdvcGVuIHdpbmRvdycpO1xuICAgICQoJyNteUlucHV0JykudHJpZ2dlcignZm9jdXMnKVxuICB9KVxuY29uc3QgdGFza0xpc3QgPSBuZXcgVGFzaztcbmNvbnN0IGRlZmF1bHRUYXNrTGlzdCA9IHRhc2tMaXN0LmRlZmF1bHRUYXNrTGlzdDtcbmNvbnN0IFVybFRhc2tMaXN0ID0gJy9nZXRfYWxsX3Rhc2tzJztcbmNvbnN0IFVybENsZWFyVGFza0xpc3QgPSAnL3RydW5jYXRlX3Rhc2tzJztcbmNvbnN0IFVybFJlbW92ZVRhc2sgPSAnL3JlbW92ZV90YXNrJ1xuY29uc3QgVXJsQ3JlYXRlVGFzayA9ICcvY3JlYXRlX3Rhc2snXG5cbmludGVyZmFjZSBET01FdmVudDxUIGV4dGVuZHMgRXZlbnRUYXJnZXQ+IGV4dGVuZHMgRXZlbnQge1xuICB0YXJnZXQ6IFRcbn1cblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG4tY3JlYXRlLXRhc2tcIik/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGFzeW5jIChlKSA9PntcbiAgICBjb25zb2xlLmxvZygnb24gc3VibWl0Jyk7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmZvcm1zWzBdO1xuICAgIGZldGNoKFVybENyZWF0ZVRhc2ssIHttZXRob2Q6J3Bvc3QnLCBib2R5OiBuZXcgRm9ybURhdGEoZm9ybSl9KTtcblxuICAgIGNvbnNvbGUubG9nKCdXZSBzZW5kIHBvc3QgYXN5bmNocm9ub3VzbHkgKEFKQVgpJyk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufSlcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bi10cnVuY2F0ZS10YXNrcycpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsYXN5bmMgKGUpID0+e1xuICAgIGZldGNoKFVybENsZWFyVGFza0xpc3QsIHttZXRob2Q6J3Bvc3QnLGJvZHk6Jyd9KTtcblxuICAgIGNvbnNvbGUubG9nKCdXZSBzZW5kIHBvc3QgYXN5bmNocm9ub3VzbHkgKEFKQVgpJyk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufSlcblxuXG5cblxuXG5jb25zdCBidWlsZFRhc2tMaXN0ID0gYXN5bmMgKCApID0+IHtcbiAgICBjb25zb2xlLmxvZygnVXJsVGFza0xpc3QnLFVybFRhc2tMaXN0KTtcbiAgICBjb25zdCBsaXN0ID0gYXdhaXQgdGFza0xpc3QuZ2V0VGFza0xpc3QoVXJsVGFza0xpc3QpO1xuICAgIGZvcihsZXQgdGFzayBvZiBsaXN0KXtcbiAgICAgICAgY29uc29sZS5sb2codGFzay5uYW1lKTtcbiAgICAgICAgbGV0IGl0ZW0gPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWdyb3VwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZCB0ZXh0LXdoaXRlIGJnLXNlY29uZGFyeSBtYi0zXCIgc3R5bGU9XCJtYXgtd2lkdGg6IDE4cmVtO1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0ZVwiPiR7dGFzay5jcmVhdGVkX29ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1pZD0ke3Rhc2suaWR9IGlkPVwiYnRuLWRlbGV0ZS10YXNrXyR7dGFzay5pZH1cIiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyIGJ0bi1kZWxldGUtdGFza1wiPlg8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJjYXJkLXRpdGxlXCI+JHt0YXNrLm5hbWV9PC9oNT5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJjYXJkLXRleHRcIj4ke3Rhc2suY29tbWVudCA/IHRhc2suY29tbWVudCA6ICcnfTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgbGV0IGxpc3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGFzay1saXN0JylbMF07XG4gICAgICAgIGNvbnNvbGUubG9nKGxpc3RFbGVtZW50KTtcbiAgICAgICAgbGlzdEVsZW1lbnQ/Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJyxpdGVtKTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgYnRuLWRlbGV0ZS10YXNrXyR7dGFzay5pZH1gKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGFzeW5jIChlOmFueSkgPT57XG4gICAgICAgICAgICBhbGVydCgwKTtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZS50YXJnZXQuZGF0YXNldC5pZDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlJyxlLGUudGFyZ2V0LGlkKTtcbiAgICAgICAgICAgIGZldGNoKGAke1VybFJlbW92ZVRhc2t9LyR7aWR9YCwge21ldGhvZDonZGVsZXRlJyxib2R5OicnfSk7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0pXG5cbiAgICB9XG5cblxufVxuXG5jb25zdCBydW4gPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3J1bicpO1xuICAgIGJ1aWxkVGFza0xpc3QoKTtcblxufVxuXG5ydW4oKTsiLCJjbGFzcyBUYXNrIHtcbiAgICBkZWZhdWx0VGFza0xpc3Q6IHN0cmluZ1tdO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmRlZmF1bHRUYXNrTGlzdCA9IFtcbiAgICAgICAgICAgICfQndCw0L/QuNC70LjRgtGMINC00YDQvtCyJyxcbiAgICAgICAgICAgICfQn9C+0LHQtdC70LrQsCDQsiDQt9Cw0LvQtScsXG4gICAgICAgICAgICAn0J/RgNC40LHRgNCw0YLRjNGB0Y8g0LPQtNC1INCx0YvQu9C4INGD0YLQvtGH0LrQuCcsXG4gICAgICAgICAgICAn0J/QvtC60L7RgdC40YLRjCcsXG4gICAgICAgICAgICAn0JfQsNGI0YLQvtC/0LDRgtGMINC60LDRgNC80LDQvdGLJ1xuICAgICAgICBdXG4gICAgfVxuICAgYXN5bmMgZ2V0VGFza0xpc3QodXJsOnN0cmluZyl7XG4gICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgICAgIHRyeXtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgeyAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsZXQganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhqc29uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGpzb24pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcItCe0YjQuNCx0LrQsCBIVFRQOiBcIiArIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaChlcnIpe1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihg0J7QsdC90LDRgNGD0LbQtdC90LAg0L7RiNC40LHQutCwIDogJHtlcnJ9YClcbiAgICAgICAgfVxuXG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgVGFzazsiXSwic291cmNlUm9vdCI6IiJ9