!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var o,r,c=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,c){function s(e){try{l(o.next(e))}catch(e){c(e)}}function i(e){try{l(o.throw(e))}catch(e){c(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((o=o.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(1));console.log("test"),$("#exampleModal").on("shown.bs.modal",(function(){console.log("open window"),$("#myInput").trigger("focus")}));const l=new i.default;l.defaultTaskList;null===(o=document.getElementById("btn-create-task"))||void 0===o||o.addEventListener("click",e=>c(void 0,void 0,void 0,(function*(){console.log("on submit");const t=document.forms[0];fetch(t.action,{method:"post",body:new FormData(t)}),console.log("We send post asynchronously (AJAX)"),e.preventDefault()}))),null===(r=document.getElementById("btn-truncate-tasks"))||void 0===r||r.addEventListener("click",e=>c(void 0,void 0,void 0,(function*(){fetch("/truncate_tasks",{method:"post",body:""}),console.log("We send post asynchronously (AJAX)"),e.preventDefault()})));(()=>{console.log("run");c(void 0,void 0,void 0,(function*(){console.log("UrlTaskList","/get_all_tasks");const e=yield l.getTaskList("/get_all_tasks");for(let t of e){console.log(t.name);let e=`\n        <div class="card-group">\n            <div class="card text-white bg-secondary mb-3" style="max-width: 18rem;">\n                <div class="card-header">${t.created_on}</div>\n                <div class="card-body">\n                    <h5 class="card-title">${t.name}</h5>\n                    <p class="card-text">${t.comment?t.comment:""}</p>\n                </div>\n            </div>\n        </div>\n        `,n=document.getElementsByClassName("task-list")[0];console.log(n),null==n||n.insertAdjacentHTML("beforeend",e)}}))})()},function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,c){function s(e){try{l(o.next(e))}catch(e){c(e)}}function i(e){try{l(o.throw(e))}catch(e){c(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.defaultTaskList=["Напилить дров","Побелка в зале","Прибраться где были уточки","Покосить","Заштопать карманы"]}getTaskList(e){return o(this,void 0,void 0,(function*(){let t=yield fetch(e);try{if(t.ok){let e=yield t.json();return console.log(e),Promise.resolve(e)}console.warn("Ошибка HTTP: "+t.status)}catch(e){console.error("Обнаружена ошибка : "+e)}}))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3RhdGljL2luZGV4LnRzIiwid2VicGFjazovLy8uL3N0YXRpYy90YXNrLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY29uc29sZSIsImxvZyIsIiQiLCJvbiIsInRyaWdnZXIiLCJ0YXNrTGlzdCIsImRlZmF1bHRUYXNrTGlzdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImZvcm0iLCJmb3JtcyIsImZldGNoIiwiYWN0aW9uIiwibWV0aG9kIiwiYm9keSIsIkZvcm1EYXRhIiwicHJldmVudERlZmF1bHQiLCJsaXN0IiwiZ2V0VGFza0xpc3QiLCJ0YXNrIiwiaXRlbSIsImNyZWF0ZWRfb24iLCJjb21tZW50IiwibGlzdEVsZW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwicnVuIiwidGhpcyIsInVybCIsInJlc3BvbnNlIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ3YXJuIiwic3RhdHVzIiwiZXJyIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1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QUtFLHlHQUVIRixFQUFLOUMsdURBQ1A4QyxFQUFLRyxRQUFVSCxFQUFLRyxRQUFVLCtFQUs3REMsRUFBY2xCLFNBQVNtQix1QkFBdUIsYUFBYSxHQUMvRDFCLFFBQVFDLElBQUl3QixHQUNaQSxXQUFhRSxtQkFBbUIsWUFBWUwsUUFxQnBETSxJLDhZQy9DQSxVQTVCQSxNQUVJLGNBQ0lDLEtBQUt2QixnQkFBa0IsQ0FDbkIsZ0JBQ0EsaUJBQ0EsNkJBQ0EsV0FDQSxxQkFHSCxZQUFZd0IsRyx5Q0FDYixJQUFJQyxRQUFpQmxCLE1BQU1pQixHQUMzQixJQUNJLEdBQUlDLEVBQVNDLEdBQUksQ0FDYixJQUFJQyxRQUFhRixFQUFTRSxPQUUxQixPQURBakMsUUFBUUMsSUFBSWdDLEdBQ0xDLFFBQVFDLFFBQVFGLEdBRXZCakMsUUFBUW9DLEtBQUssZ0JBQWtCTCxFQUFTTSxRQUdoRCxNQUFNQyxHQUNGdEMsUUFBUXVDLE1BQU0sdUJBQXVCRCIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgVGFzayBmcm9tICcuL3Rhc2snO1xuY29uc29sZS5sb2coJ3Rlc3QnKTtcbiQoJyNleGFtcGxlTW9kYWwnKS5vbignc2hvd24uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5sb2coJ29wZW4gd2luZG93Jyk7XG4gICAgJCgnI215SW5wdXQnKS50cmlnZ2VyKCdmb2N1cycpXG4gIH0pXG5jb25zdCB0YXNrTGlzdCA9IG5ldyBUYXNrO1xuY29uc3QgZGVmYXVsdFRhc2tMaXN0ID0gdGFza0xpc3QuZGVmYXVsdFRhc2tMaXN0O1xuY29uc3QgVXJsVGFza0xpc3QgPSAnL2dldF9hbGxfdGFza3MnO1xuY29uc3QgVXJsQ2xlYXJUYXNrTGlzdCA9ICcvdHJ1bmNhdGVfdGFza3MnO1xuY29uc3QgVXJsUmVtb3ZlVGFzayA9ICcvcmVtb3ZlX3Rhc2snXG5cbmludGVyZmFjZSBET01FdmVudDxUIGV4dGVuZHMgRXZlbnRUYXJnZXQ+IGV4dGVuZHMgRXZlbnQge1xuICB0YXJnZXQ6IFRcbn1cblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG4tY3JlYXRlLXRhc2tcIik/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGFzeW5jIChlKSA9PntcbiAgICBjb25zb2xlLmxvZygnb24gc3VibWl0Jyk7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmZvcm1zWzBdO1xuICAgIGZldGNoKGZvcm0uYWN0aW9uLCB7bWV0aG9kOidwb3N0JywgYm9keTogbmV3IEZvcm1EYXRhKGZvcm0pfSk7XG5cbiAgICBjb25zb2xlLmxvZygnV2Ugc2VuZCBwb3N0IGFzeW5jaHJvbm91c2x5IChBSkFYKScpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbn0pXG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tdHJ1bmNhdGUtdGFza3MnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGFzeW5jIChlKSA9PntcbiAgICBmZXRjaChVcmxDbGVhclRhc2tMaXN0LCB7bWV0aG9kOidwb3N0Jyxib2R5OicnfSk7XG5cbiAgICBjb25zb2xlLmxvZygnV2Ugc2VuZCBwb3N0IGFzeW5jaHJvbm91c2x5IChBSkFYKScpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbn0pXG5cblxuXG5cblxuY29uc3QgYnVpbGRUYXNrTGlzdCA9IGFzeW5jICggKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1VybFRhc2tMaXN0JyxVcmxUYXNrTGlzdCk7XG4gICAgY29uc3QgbGlzdCA9IGF3YWl0IHRhc2tMaXN0LmdldFRhc2tMaXN0KFVybFRhc2tMaXN0KTtcbiAgICBmb3IobGV0IHRhc2sgb2YgbGlzdCl7XG4gICAgICAgIGNvbnNvbGUubG9nKHRhc2submFtZSk7XG4gICAgICAgIGxldCBpdGVtID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1ncm91cFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgdGV4dC13aGl0ZSBiZy1zZWNvbmRhcnkgbWItM1wiIHN0eWxlPVwibWF4LXdpZHRoOiAxOHJlbTtcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1oZWFkZXJcIj4ke3Rhc2suY3JlYXRlZF9vbn08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cImNhcmQtdGl0bGVcIj4ke3Rhc2submFtZX08L2g1PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNhcmQtdGV4dFwiPiR7dGFzay5jb21tZW50ID8gdGFzay5jb21tZW50IDogJyd9PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBsZXQgbGlzdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0YXNrLWxpc3QnKVswXTtcbiAgICAgICAgY29uc29sZS5sb2cobGlzdEVsZW1lbnQpO1xuICAgICAgICBsaXN0RWxlbWVudD8uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLGl0ZW0pO1xuICAgIH1cblxufVxuXG5jb25zdCBydW4gPSAoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3J1bicpO1xuICAgIC8vINC+0LHRgNCw0LHQvtGC0YfQuNC6INGD0LTQsNC70LXQvdC40Y8g0LfQsNC00LDRh9C4XG4gICAgY29uc3QgZGVsZXRlVGFzayA9IGFzeW5jIChlOkRPTUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KT0+e1xuICAgICAgICBhbGVydCgwKTtcbiAgICAgICAgY29uc3QgaWQgPSBlLnRhcmdldDtcbiAgICAgICAgY29uc29sZS5sb2coJ2UnLGUsZS50YXJnZXQpO1xuICAgICAgICBmZXRjaChgJHtVcmxSZW1vdmVUYXNrfS8ke2lkfWAsIHttZXRob2Q6J2RlbGV0ZScsYm9keTonJ30pO1xuXG5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBidWlsZFRhc2tMaXN0KCk7XG5cbn1cblxucnVuKCk7IiwiY2xhc3MgVGFzayB7XG4gICAgZGVmYXVsdFRhc2tMaXN0OiBzdHJpbmdbXTtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0VGFza0xpc3QgPSBbXG4gICAgICAgICAgICAn0J3QsNC/0LjQu9C40YLRjCDQtNGA0L7QsicsXG4gICAgICAgICAgICAn0J/QvtCx0LXQu9C60LAg0LIg0LfQsNC70LUnLFxuICAgICAgICAgICAgJ9Cf0YDQuNCx0YDQsNGC0YzRgdGPINCz0LTQtSDQsdGL0LvQuCDRg9GC0L7Rh9C60LgnLFxuICAgICAgICAgICAgJ9Cf0L7QutC+0YHQuNGC0YwnLFxuICAgICAgICAgICAgJ9CX0LDRiNGC0L7Qv9Cw0YLRjCDQutCw0YDQvNCw0L3RiydcbiAgICAgICAgXVxuICAgIH1cbiAgIGFzeW5jIGdldFRhc2tMaXN0KHVybDpzdHJpbmcpe1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgICAgICB0cnl7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbGV0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coanNvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShqc29uKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCLQntGI0LjQsdC60LAgSFRUUDogXCIgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2goZXJyKXtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYNCe0LHQvdCw0YDRg9C20LXQvdCwINC+0YjQuNCx0LrQsCA6ICR7ZXJyfWApXG4gICAgICAgIH1cblxuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFRhc2s7Il0sInNvdXJjZVJvb3QiOiIifQ==